<html><!-- Created using the cpp_pretty_printer from the dlib C++ library.  See http://dlib.net for updates. --><head><title>dlib C++ Library - mex_wrapper.cpp</title></head><body bgcolor='white'><pre>
<font color='#009900'>// Copyright (C) 2012 Massachusetts Institute of Technology, Lincoln Laboratory
</font><font color='#009900'>// License: Boost Software License   See LICENSE.txt for the full license.
</font><font color='#009900'>// Authors: Davis E. King (davis@dlib.net)
</font><font color='#009900'>/*
                               READ THIS FIRST
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                               \############/
                                \##########/
                                 \########/
                                  \######/
                                   \####/
                                    \##/
                                     \/

    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

    See example_mex_function.cpp for a discussion of how to use the mex wrapper.

    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

                                     /\
                                    /##\
                                   /####\
                                  /######\
                                 /########\
                                /##########\
                               /############\
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                                   ######
                               READ THIS FIRST
*/</font>

<font color='#009900'>// Copyright (C) 2012 Massachusetts Institute of Technology, Lincoln Laboratory
</font><font color='#009900'>// License: Boost Software License   See LICENSE.txt for the full license.
</font><font color='#009900'>// Authors: Davis E. King (davis@dlib.net)
</font>


































<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>//                            BEGIN IMPLEMENTATION DETAILS
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../matrix.h.html'>../matrix.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../array2d.h.html'>../array2d.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../array.h.html'>../array.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../image_transforms.h.html'>../image_transforms.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../is_kind.h.html'>../is_kind.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='../any.h.html'>../any.h</a>" <font color='#009900'>// for sig_traits
</font>
<font color='#0000FF'>#if</font> defined<font face='Lucida Console'>(</font>_MSC_VER<font face='Lucida Console'>)</font>
<font color='#0000FF'>#define</font> DLL_EXPORT_SYM __declspec<font face='Lucida Console'>(</font>dllexport<font face='Lucida Console'>)</font>
<font color='#0000FF'>#endif</font>
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='mex.h.html'>mex.h</a>"
<font color='#0000FF'>#include</font> <font color='#5555FF'>&lt;</font>sstream<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='call_matlab.h.html'>call_matlab.h</a>"

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'>#ifdef</font> ARG_1_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_1 <font color='#0000FF'>else</font> A1 <font color='#5555FF'>=</font> ARG_1_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_1
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_2_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_2 <font color='#0000FF'>else</font> A2 <font color='#5555FF'>=</font> ARG_2_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_2
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_3_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_3 <font color='#0000FF'>else</font> A3 <font color='#5555FF'>=</font> ARG_3_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_3
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_4_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_4 <font color='#0000FF'>else</font> A4 <font color='#5555FF'>=</font> ARG_4_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_4
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_5_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_5 <font color='#0000FF'>else</font> A5 <font color='#5555FF'>=</font> ARG_5_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_5
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_6_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_6 <font color='#0000FF'>else</font> A6 <font color='#5555FF'>=</font> ARG_6_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_6
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_7_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_7 <font color='#0000FF'>else</font> A7 <font color='#5555FF'>=</font> ARG_7_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_7
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_8_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_8 <font color='#0000FF'>else</font> A8 <font color='#5555FF'>=</font> ARG_8_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_8
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_9_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_9 <font color='#0000FF'>else</font> A9 <font color='#5555FF'>=</font> ARG_9_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_9
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> ARG_10_DEFAULT 
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_10 <font color='#0000FF'>else</font> A10 <font color='#5555FF'>=</font> ARG_10_DEFAULT;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>#define</font> ELSE_ASSIGN_ARG_10
<font color='#0000FF'>#endif</font>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'>namespace</font> mex_binding
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> dlib;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='is_input_type'></a>is_input_type</b> 
    <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'>static</font> <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> value <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font>,T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>is_reference_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_const_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> ? <font color='#979000'>1</font> : <font color='#979000'>0</font>;
    <b>}</b>;
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='is_output_type'></a>is_output_type</b> 
    <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'>static</font> <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> value <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font>,T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_reference_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#5555FF'>!</font>is_const_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> ? <font color='#979000'>1</font> : <font color='#979000'>0</font>;
    <b>}</b>;


    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='funct_traits'></a>funct_traits</b>
    <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'>static</font> <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> num_inputs <font color='#5555FF'>=</font> is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg9_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg10_type<font color='#5555FF'>&gt;</font>::value; 

        <font color='#0000FF'>const</font> <font color='#0000FF'>static</font> <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> num_outputs<font color='#5555FF'>=</font> is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg9_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>+</font>
            is_output_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg10_type<font color='#5555FF'>&gt;</font>::value; 
    <b>}</b>;

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='is_array_type'></a>is_array_type</b>
    <b>{</b>
        <font color='#009900'>// true if T is std::vector or dlib::array
</font>        <font color='#0000FF'>const</font> <font color='#0000FF'>static</font> <font color='#0000FF'><u>bool</u></font> value <font color='#5555FF'>=</font> is_std_vector<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> dlib::is_array<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value;

    <b>}</b>;

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T,
        <font color='#0000FF'>typename</font> enabled <font color='#5555FF'>=</font> <font color='#0000FF'><u>void</u></font> 
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='inner_type'></a>inner_type</b>
    <b>{</b>
        <font color='#0000FF'>typedef</font> T type;
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font> <font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='inner_type'></a>inner_type</b><font color='#5555FF'>&lt;</font>T, <font color='#0000FF'>typename</font> dlib::enable_if_c<font color='#5555FF'>&lt;</font>is_matrix<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_array2d<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> dlib::is_array<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type<font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> T::type type;
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font> <font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='inner_type'></a>inner_type</b><font color='#5555FF'>&lt;</font>T, <font color='#0000FF'>typename</font> dlib::enable_if<font color='#5555FF'>&lt;</font>is_std_vector<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type<font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> T::value_type type;
    <b>}</b>;


<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>struct</font> <b><a name='invalid_args_exception'></a>invalid_args_exception</b>
    <b>{</b>
        <b><a name='invalid_args_exception'></a>invalid_args_exception</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> msg_<font face='Lucida Console'>)</font>: msg<font face='Lucida Console'>(</font>msg_<font face='Lucida Console'>)</font> <b>{</b><b>}</b>
        std::string msg;
    <b>}</b>;

<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> matrix_type,
        <font color='#0000FF'>typename</font> EXP
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if_c<font color='#5555FF'>&lt;</font>is_matrix<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> inner_type<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::type,<font color='#0000FF'>typename</font> EXP::type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_mat'></a>assign_mat</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        matrix_type<font color='#5555FF'>&amp;</font> m,
        <font color='#0000FF'>const</font> matrix_exp<font color='#5555FF'>&lt;</font>EXP<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> src
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>matrix_type::NR <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> matrix_type::NR <font color='#5555FF'>!</font><font color='#5555FF'>=</font> src.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> expects a matrix with </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> matrix_type::NR <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> rows but got one with </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> src.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>matrix_type::NC <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> matrix_type::NC <font color='#5555FF'>!</font><font color='#5555FF'>=</font> src.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> expects a matrix with </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> matrix_type::NC <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> columns but got one with </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> src.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>


        m <font color='#5555FF'>=</font> <font color='#BB00BB'>trans</font><font face='Lucida Console'>(</font>src<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> matrix_type,
        <font color='#0000FF'>typename</font> EXP
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if_c<font color='#5555FF'>&lt;</font>is_array2d<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> inner_type<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::type,<font color='#0000FF'>typename</font> EXP::type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_mat'></a>assign_mat</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        matrix_type<font color='#5555FF'>&amp;</font> m,
        <font color='#0000FF'>const</font> matrix_exp<font color='#5555FF'>&lt;</font>EXP<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> src
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        <font color='#BB00BB'>assign_image</font><font face='Lucida Console'>(</font>m , <font color='#BB00BB'>trans</font><font face='Lucida Console'>(</font>src<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> matrix_type,
        <font color='#0000FF'>typename</font> EXP
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> disable_if_c<font color='#5555FF'>&lt;</font><font face='Lucida Console'>(</font>is_array2d<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_matrix<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> 
    is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> inner_type<font color='#5555FF'>&lt;</font>matrix_type<font color='#5555FF'>&gt;</font>::type,<font color='#0000FF'>typename</font> EXP::type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_mat'></a>assign_mat</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        matrix_type<font color='#5555FF'>&amp;</font> ,
        <font color='#0000FF'>const</font> matrix_exp<font color='#5555FF'>&lt;</font>EXP<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> 
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        std::ostringstream sout;
        sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>mex_function has some bug in it related to processing input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font>;
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>


<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T,
        <font color='#0000FF'>typename</font> U
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if_c<font color='#5555FF'>&lt;</font>is_built_in_scalar_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_same_type<font color='#5555FF'>&lt;</font>T,<font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_scalar'></a>assign_scalar</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font> dest,
        <font color='#0000FF'>const</font> U<font color='#5555FF'>&amp;</font> src
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_signed_type<font color='#5555FF'>&lt;</font>U<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> src <font color='#5555FF'>&lt;</font> <font color='#979000'>0</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_unsigned_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Error, input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a non-negative number.</font>";
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font>
        <b>{</b>
            dest <font color='#5555FF'>=</font> src;
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T,
        <font color='#0000FF'>typename</font> U
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::disable_if_c<font color='#5555FF'>&lt;</font>is_built_in_scalar_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_same_type<font color='#5555FF'>&lt;</font>T,<font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_scalar'></a>assign_scalar</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font> ,
        <font color='#0000FF'>const</font> U<font color='#5555FF'>&amp;</font> 
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        std::ostringstream sout;
        sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>mex_function has some bug in it related to processing input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font>;
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>


<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='assign_function_handle'></a>assign_function_handle</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        function_handle<font color='#5555FF'>&amp;</font> dest,
        <font color='#0000FF'>const</font> mxArray<font color='#5555FF'>*</font> src
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        <font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font><font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>dest.h<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>void</u></font><font color='#5555FF'>*</font><font face='Lucida Console'>)</font>src;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='assign_function_handle'></a>assign_function_handle</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font> ,
        <font color='#0000FF'>const</font> mxArray<font color='#5555FF'>*</font> 
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        std::ostringstream sout;
        sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>mex_function has some bug in it related to processing input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font>;
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>


<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if<font color='#5555FF'>&lt;</font>is_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_std_vector'></a>assign_std_vector</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font> dest,
        <font color='#0000FF'>const</font> mxArray<font color='#5555FF'>*</font> src
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nr <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetM</font><font face='Lucida Console'>(</font>src<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nc <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetN</font><font face='Lucida Console'>(</font>src<font face='Lucida Console'>)</font>;

        <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> inner_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::type type;

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsCell</font><font face='Lucida Console'>(</font>src<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a cell array</font>";
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>nr <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>1</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> nc <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>1</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a cell array with exactly 1 row or 1 column (i.e. a row or column vector)</font>";
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>

        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> size <font color='#5555FF'>=</font> nr<font color='#5555FF'>*</font>nc;
        dest.<font color='#BB00BB'>resize</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>;

        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>; i <font color='#5555FF'>&lt;</font> dest.<font color='#BB00BB'>size</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>try</font>
            <b>{</b>
                <font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i, <font color='#BB00BB'>mxGetCell</font><font face='Lucida Console'>(</font>src, i<font face='Lucida Console'>)</font>, dest[i]<font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>catch</font> <font face='Lucida Console'>(</font>invalid_args_exception<font color='#5555FF'>&amp;</font> e<font face='Lucida Console'>)</font>
            <b>{</b>
                std::ostringstream sout;
                sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Error in argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>: element </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> i<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> of cell array not the expected type.\n</font>";
                sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>\t</font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> e.msg;
                <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
        <b>}</b>

    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> T
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> disable_if<font color='#5555FF'>&lt;</font>is_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type
    <b><a name='assign_std_vector'></a>assign_std_vector</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font> ,
        <font color='#0000FF'>const</font> mxArray<font color='#5555FF'>*</font>
    <font face='Lucida Console'>)</font>  
    <b>{</b>
        std::ostringstream sout;
        sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>mex_function has some bug in it related to processing input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font>;
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> 
    <font color='#0000FF'><u>void</u></font> <b><a name='assign_image'></a>assign_image</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> arg_idx,
        T<font color='#5555FF'>&amp;</font>,
        <font color='#0000FF'>const</font> dlib::uint8<font color='#5555FF'>*</font> data,
        <font color='#0000FF'><u>long</u></font> nr,
        <font color='#0000FF'><u>long</u></font> nc
    <font face='Lucida Console'>)</font>
    <b>{</b>
        std::ostringstream sout;
        sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>mex_function has some bug in it related to processing input argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font>;
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> MM<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='assign_image'></a>assign_image</b><font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> ,
        array2d<font color='#5555FF'>&lt;</font>dlib::rgb_pixel,MM<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> img,
        <font color='#0000FF'>const</font> dlib::uint8<font color='#5555FF'>*</font> data,
        <font color='#0000FF'><u>long</u></font> nr,
        <font color='#0000FF'><u>long</u></font> nc
    <font face='Lucida Console'>)</font>
    <b>{</b>
        img.<font color='#BB00BB'>set_size</font><font face='Lucida Console'>(</font>nr, nc<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                img[r][c].red <font color='#5555FF'>=</font> <font color='#5555FF'>*</font>data<font color='#5555FF'>+</font><font color='#5555FF'>+</font>;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                img[r][c].green <font color='#5555FF'>=</font> <font color='#5555FF'>*</font>data<font color='#5555FF'>+</font><font color='#5555FF'>+</font>;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> img.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                img[r][c].blue <font color='#5555FF'>=</font> <font color='#5555FF'>*</font>data<font color='#5555FF'>+</font><font color='#5555FF'>+</font>;
    <b>}</b>

<font color='#009900'>// -------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='validate_and_populate_arg'></a>validate_and_populate_arg</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'><u>long</u></font> arg_idx,
        <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs,
        T<font color='#5555FF'>&amp;</font> arg
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_built_in_scalar_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_same_type<font color='#5555FF'>&lt;</font>T,<font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>if</font><font face='Lucida Console'>(</font> <font color='#5555FF'>!</font><font face='Lucida Console'>(</font><font color='#BB00BB'>mxIsDouble</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsSingle</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsLogical</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> 
                <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                <font color='#BB00BB'>mxGetNumberOfElements</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font color='#5555FF'>!</font><font color='#5555FF'>=</font><font color='#979000'>1</font> <font face='Lucida Console'>)</font> 
            <b>{</b>
                std::ostringstream sout;
                sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a scalar</font>";
                <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>

            <font color='#BB00BB'>assign_scalar</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>mxGetScalar</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_matrix<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_array2d<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> inner_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::type type;

            <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_dims <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetNumberOfDimensions</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nr <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetM</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nc <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetN</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>;

            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type,dlib::rgb_pixel<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font face='Lucida Console'>(</font>num_dims <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>3</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>mxGetDimensions</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>[<font color='#979000'>2</font>] <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>3</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>mxIsUint8</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a 3-D NxMx3 image matrix of uint8</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> rows <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetDimensions</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>[<font color='#979000'>0</font>];
                <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> cols <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetDimensions</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>[<font color='#979000'>1</font>];
                <font color='#BB00BB'>assign_image</font><font face='Lucida Console'>(</font>arg_idx, arg , <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> dlib::uint8<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, rows, cols<font face='Lucida Console'>)</font>;
                <font color='#0000FF'>return</font>;
            <b>}</b>

            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>num_dims <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>2</font><font face='Lucida Console'>)</font>
            <b>{</b>
                std::ostringstream sout;
                sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a 2-D matrix (got a </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> num_dims <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>-D matrix)</font>";
                <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>


            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type,<font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsDouble</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of doubles</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>
                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font color='#BB00BB'>mxGetPr</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsSingle</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of single/float</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>float</u></font><font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsLogical</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of logical elements.</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>bool</u></font><font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::uint8<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsUint8</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of uint8</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> dlib::uint8<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::int8<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsInt8</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of int8</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> dlib::int8<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::int16<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>short</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int16<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsInt16</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of int16</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::uint16<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>short</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint16<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsUint16</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of uint16</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::int32<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>long</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsInt32</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of int32</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::uint32<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsUint32</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of uint32</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::uint64<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsUint64</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of uint64</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, dlib::int64<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                    <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>type, <font color='#0000FF'><u>long</u></font><font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsInt64</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>mxIsComplex</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
                <b>{</b>
                    std::ostringstream sout;
                    sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a matrix of int64</font>";
                    <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
                <b>}</b>

                <font color='#BB00BB'>assign_mat</font><font face='Lucida Console'>(</font>arg_idx, arg , <font color='#BB00BB'>pointer_to_matrix</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>, nc, nr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>else</font>
            <b>{</b>
                <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                                  "<font color='#CC0000'>mex_function uses unsupported matrix type</font>"<font face='Lucida Console'>)</font>;
            <b>}</b>
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#BB00BB'>assign_std_vector</font><font face='Lucida Console'>(</font>arg_idx, arg, prhs<font face='Lucida Console'>)</font>;

        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>T,function_handle<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsClass</font><font face='Lucida Console'>(</font>prhs, "<font color='#CC0000'>function_handle</font>"<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <b>{</b>
                std::ostringstream sout;
                sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a function handle.</font>";
                <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#BB00BB'>assign_function_handle</font><font face='Lucida Console'>(</font>arg_idx, arg, prhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font>
        <b>{</b>
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              "<font color='#CC0000'>mex_function uses unsupported input argument type</font>"<font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='validate_and_populate_arg'></a>validate_and_populate_arg</b><font face='Lucida Console'>(</font>
        <font color='#0000FF'><u>long</u></font> arg_idx,
        <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs,
        std::string<font color='#5555FF'>&amp;</font> arg
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>mxIsChar</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> must be a char string</font>";
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>

        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nr <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetM</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> nc <font color='#5555FF'>=</font> <font color='#BB00BB'>mxGetN</font><font face='Lucida Console'>(</font>prhs<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> size <font color='#5555FF'>=</font> nr<font color='#5555FF'>*</font>nc;
        arg.<font color='#BB00BB'>resize</font><font face='Lucida Console'>(</font>size<font color='#5555FF'>+</font><font color='#979000'>1</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>mxGetString</font><font face='Lucida Console'>(</font>prhs, <font color='#5555FF'>&amp;</font>arg[<font color='#979000'>0</font>], arg.<font color='#BB00BB'>size</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> argument </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> arg_idx<font color='#5555FF'>+</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> encountered an error while calling mxGetString()</font>";
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>invalid_args_exception</font><font face='Lucida Console'>(</font>sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        arg.<font color='#BB00BB'>resize</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>;
    <b>}</b>


<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> EXP<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if<font color='#5555FF'>&lt;</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::rgb_pixel,<font color='#0000FF'>typename</font> EXP::type<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type <b><a name='assign_image_to_matlab'></a>assign_image_to_matlab</b> <font face='Lucida Console'>(</font>
        dlib::uint8<font color='#5555FF'>*</font> mat,
        <font color='#0000FF'>const</font> matrix_exp<font color='#5555FF'>&lt;</font>EXP<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                <font color='#5555FF'>*</font>mat<font color='#5555FF'>+</font><font color='#5555FF'>+</font> <font color='#5555FF'>=</font> <font color='#BB00BB'>item</font><font face='Lucida Console'>(</font>r,c<font face='Lucida Console'>)</font>.red;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                <font color='#5555FF'>*</font>mat<font color='#5555FF'>+</font><font color='#5555FF'>+</font> <font color='#5555FF'>=</font> <font color='#BB00BB'>item</font><font face='Lucida Console'>(</font>r,c<font face='Lucida Console'>)</font>.green;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> r <font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
                <font color='#5555FF'>*</font>mat<font color='#5555FF'>+</font><font color='#5555FF'>+</font> <font color='#5555FF'>=</font> <font color='#BB00BB'>item</font><font face='Lucida Console'>(</font>r,c<font face='Lucida Console'>)</font>.blue;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, <font color='#0000FF'>typename</font> EXP<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> disable_if<font color='#5555FF'>&lt;</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::rgb_pixel,<font color='#0000FF'>typename</font> EXP::type<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type <b><a name='assign_image_to_matlab'></a>assign_image_to_matlab</b> <font face='Lucida Console'>(</font>
        T<font color='#5555FF'>*</font> mat,
        <font color='#0000FF'>const</font> matrix_exp<font color='#5555FF'>&lt;</font>EXP<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> 
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                          "<font color='#CC0000'>mex_function uses unsupported output image argument type</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if<font color='#5555FF'>&lt;</font>is_matrix<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> T::type type;

        type<font color='#5555FF'>*</font> mat <font color='#5555FF'>=</font> <font color='#979000'>0</font>;

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font>, type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateDoubleMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                        item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                        mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetPr</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font>, type<font color='#5555FF'>&gt;</font>::value <font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxSINGLE_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>bool</u></font>, type<font color='#5555FF'>&gt;</font>::value <font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateLogicalMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::uint8, type<font color='#5555FF'>&gt;</font>::value <font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxUINT8_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::int8, type<font color='#5555FF'>&gt;</font>::value <font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxINT8_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::int16, type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>short</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int16<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxINT16_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::uint16, type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>short</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint16<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxUINT16_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::int32, type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>long</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxINT32_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::uint32, type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint32<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxUINT32_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::uint64, type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::uint64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxUINT64_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::int64, type<font color='#5555FF'>&gt;</font>::value  <font color='#5555FF'>|</font><font color='#5555FF'>|</font> 
                 <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>long</u></font>,type<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>dlib::int64<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <b>{</b>
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericMatrix</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,
                                         mxINT64_CLASS,
                                         mxREAL<font face='Lucida Console'>)</font>;

            mat <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>else</font> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_same_type<font color='#5555FF'>&lt;</font>dlib::rgb_pixel, type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
        <b>{</b>
            mwSize dims[<font color='#979000'>3</font>] <font color='#5555FF'>=</font> <b>{</b>item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#979000'>3</font><b>}</b>;
            plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateNumericArray</font><font face='Lucida Console'>(</font><font color='#979000'>3</font>, dims, mxUINT8_CLASS, mxREAL<font face='Lucida Console'>)</font>;

            <font color='#BB00BB'>assign_image_to_matlab</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font>dlib::uint8<font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#BB00BB'>mxGetData</font><font face='Lucida Console'>(</font>plhs<font face='Lucida Console'>)</font>, item<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>return</font>;
        <b>}</b>
        <font color='#0000FF'>else</font>
        <b>{</b>
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              "<font color='#CC0000'>mex_function uses unsupported output argument type</font>"<font face='Lucida Console'>)</font>;
        <b>}</b>



        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> c <font color='#5555FF'>=</font> <font color='#979000'>0</font>; c <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nc</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>c<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font> <font color='#0000FF'><u>long</u></font>  r<font color='#5555FF'>=</font> <font color='#979000'>0</font>; r <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>nr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>r<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#5555FF'>*</font>mat<font color='#5555FF'>+</font><font color='#5555FF'>+</font> <font color='#5555FF'>=</font> <font color='#BB00BB'>item</font><font face='Lucida Console'>(</font>r,c<font face='Lucida Console'>)</font>;
            <b>}</b>
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateString</font><font face='Lucida Console'>(</font>item.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, <font color='#0000FF'>typename</font> MM<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> array2d<font color='#5555FF'>&lt;</font>T,MM<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        <font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs,<font color='#BB00BB'>array_to_matrix</font><font face='Lucida Console'>(</font>item<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::enable_if<font color='#5555FF'>&lt;</font>is_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&gt;</font>::type <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        mwSize dims[<font color='#979000'>1</font>] <font color='#5555FF'>=</font> <b>{</b>item.<font color='#BB00BB'>size</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>}</b>;
        plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateCellArray</font><font face='Lucida Console'>(</font><font color='#979000'>1</font>,dims<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>; i <font color='#5555FF'>&lt;</font> item.<font color='#BB00BB'>size</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i<font face='Lucida Console'>)</font>
        <b>{</b>
            mxArray<font color='#5555FF'>*</font> next <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>next, item[i]<font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>mxSetCell</font><font face='Lucida Console'>(</font>plhs, i, next<font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>typename</font> dlib::disable_if_c<font color='#5555FF'>&lt;</font>is_matrix<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> is_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font> 
                                is_same_type<font color='#5555FF'>&lt;</font>T,function_handle<font color='#5555FF'>&gt;</font>::value<font color='#5555FF'>&gt;</font>::type <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> item
    <font face='Lucida Console'>)</font> 
    <b>{</b>
        plhs <font color='#5555FF'>=</font> <font color='#BB00BB'>mxCreateDoubleScalar</font><font face='Lucida Console'>(</font>item<font face='Lucida Console'>)</font>;
    <b>}</b>


    <font color='#0000FF'><u>void</u></font> <b><a name='assign_to_matlab'></a>assign_to_matlab</b> <font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font><font color='#5555FF'>*</font> str
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs, std::<font color='#BB00BB'>string</font><font face='Lucida Console'>(</font>str<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='assign_to_matlab'></a>assign_to_matlab</b><font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> plhs,
        <font color='#0000FF'>const</font> function_handle<font color='#5555FF'>&amp;</font> h
    <font face='Lucida Console'>)</font>
    <b>{</b>
    <b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> num_args
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> call_mex_function_helper;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>1</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1<font face='Lucida Console'>)</font>;

            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>2</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2<font face='Lucida Console'>)</font>;

            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>3</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3<font face='Lucida Console'>)</font>;

            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>4</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>5</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;


    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>6</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type arg6_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::type A6;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_6;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5,A6<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;


    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>7</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type arg6_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type arg7_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::type A6;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::type A7;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_6;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_7;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5,A6,A7<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;


    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>8</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type arg6_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type arg7_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type arg8_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::type A6;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::type A7;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::type A8;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_6;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_7;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_8;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5,A6,A7,A8<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;


    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>9</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type arg6_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type arg7_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type arg8_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg9_type arg9_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::type A6;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::type A7;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::type A8;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::type A9;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_6;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_7;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_8;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A9<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_9;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5,A6,A7,A8,A9<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A9<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;



    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>struct</font> <b><a name='call_mex_function_helper'></a>call_mex_function_helper</b><font color='#5555FF'>&lt;</font><font color='#979000'>10</font><font color='#5555FF'>&gt;</font>
    <b>{</b>
        <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> funct<font color='#5555FF'>&gt;</font>
        <font color='#0000FF'><u>void</u></font> <b><a name='callit'></a>callit</b><font face='Lucida Console'>(</font>
            <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> ,
            <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
            <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
        <font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>
        <b>{</b>
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type arg1_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type arg2_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type arg3_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type arg4_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type arg5_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type arg6_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type arg7_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type arg8_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg9_type arg9_type;
            <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg10_type arg10_type;

            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::type A1;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::type A2;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::type A3;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::type A4;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::type A5;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::type A6;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::type A7;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::type A8;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::type A9;
            <font color='#0000FF'>typename</font> basic_type<font color='#5555FF'>&lt;</font>arg10_type<font color='#5555FF'>&gt;</font>::type A10;

            <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_1;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_2;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_3;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_4;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_5;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_6;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_7;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_8;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A9<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_9;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> is_input_type<font color='#5555FF'>&lt;</font>arg10_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,prhs[i],A10<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b> ELSE_ASSIGN_ARG_10;

            <font color='#BB00BB'>mex_function</font><font face='Lucida Console'>(</font>A1,A2,A3,A4,A5,A6,A7,A8,A9,A10<font face='Lucida Console'>)</font>;


            i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A1<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A2<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A3<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A4<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A5<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A6<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A7<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A8<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg9_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A9<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_output_type<font color='#5555FF'>&lt;</font>arg10_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font> <b>{</b><font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>plhs[i],A10<font face='Lucida Console'>)</font>; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;<b>}</b>
        <b>}</b>
    <b>}</b>;

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
        <font color='#0000FF'>typename</font> funct
        <font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='call_mex_function'></a>call_mex_function</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> funct<font color='#5555FF'>&amp;</font> f,
        <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
        <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> expected_nrhs <font color='#5555FF'>=</font> funct_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::num_inputs;
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> expected_nlhs <font color='#5555FF'>=</font> funct_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::num_outputs;
        <font color='#0000FF'>const</font> <font color='#0000FF'><u>long</u></font> expected_args <font color='#5555FF'>=</font> expected_nrhs <font color='#5555FF'>+</font> expected_nlhs;

        <font color='#0000FF'><u>long</u></font> defaulted_args <font color='#5555FF'>=</font> <font color='#979000'>0</font>;

        <font color='#0000FF'>#ifdef</font> ARG_1_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg1_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_2_DEFAULT
                <font color='#009900'>// You can't define a default for argument 1 if you don't define one for argument 2 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>2</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>1</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_2_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg2_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_3_DEFAULT
                <font color='#009900'>// You can't define a default for argument 2 if you don't define one for argument 3 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>3</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>2</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_3_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg3_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_4_DEFAULT
                <font color='#009900'>// You can't define a default for argument 3 if you don't define one for argument 4 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>4</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>3</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_4_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg4_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_5_DEFAULT
                <font color='#009900'>// You can't define a default for argument 4 if you don't define one for argument 5 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>5</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>4</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_5_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg5_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_6_DEFAULT
                <font color='#009900'>// You can't define a default for argument 5 if you don't define one for argument 6 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>6</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>5</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_6_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg6_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_7_DEFAULT
                <font color='#009900'>// You can't define a default for argument 6 if you don't define one for argument 7 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>7</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>6</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_7_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg7_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_8_DEFAULT
                <font color='#009900'>// You can't define a default for argument 7 if you don't define one for argument 8 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>8</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>7</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_8_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg8_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_9_DEFAULT
                <font color='#009900'>// You can't define a default for argument 8 if you don't define one for argument 9 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>9</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>8</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_9_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg9_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#ifndef</font> ARG_10_DEFAULT
                <font color='#009900'>// You can't define a default for argument 9 if you don't define one for argument 10 also.
</font>                <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>expected_args <font color='#5555FF'>&lt;</font> <font color='#979000'>10</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>#endif</font>
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>9</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>
        <font color='#0000FF'>#ifdef</font> ARG_10_DEFAULT
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>defaulted_args;
            <font color='#009900'>// You can only set an argument's default value if it is an input argument.
</font>            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font>is_input_type<font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::arg10_type<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>COMPILE_TIME_ASSERT</font><font face='Lucida Console'>(</font><font color='#979000'>10</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> expected_args<font face='Lucida Console'>)</font>; <font color='#009900'>// You can't define a default for an argument that doesn't exist.
</font>        <font color='#0000FF'>#endif</font>



        <font color='#009900'>/* check for proper number of arguments */</font>
        <font color='#0000FF'>if</font><font face='Lucida Console'>(</font>nrhs <font color='#5555FF'>&gt;</font> expected_nrhs <font color='#5555FF'>|</font><font color='#5555FF'>|</font> nrhs <font color='#5555FF'>&lt;</font> expected_nrhs <font color='#5555FF'>-</font> defaulted_args<font face='Lucida Console'>)</font> 
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Expected between </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> expected_nrhs<font color='#5555FF'>-</font>defaulted_args 
                <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> and </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> expected_nrhs <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> input arguments, got </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> nrhs <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>.</font>";

            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:nrhs</font>",
                              sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>nlhs <font color='#5555FF'>&gt;</font> expected_nlhs<font face='Lucida Console'>)</font>
        <b>{</b>
            std::ostringstream sout;
            sout <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>Expected at most </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> expected_nlhs <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'> output arguments, got </font>" <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> nlhs <font color='#5555FF'>&lt;</font><font color='#5555FF'>&lt;</font> "<font color='#CC0000'>.</font>";

            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:nlhs</font>",
                              sout.<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>

        <font color='#0000FF'>try</font>
        <b>{</b>
            call_mex_function_helper<font color='#5555FF'>&lt;</font>sig_traits<font color='#5555FF'>&lt;</font>funct<font color='#5555FF'>&gt;</font>::num_args<font color='#5555FF'>&gt;</font> helper;
            helper.<font color='#BB00BB'>callit</font><font face='Lucida Console'>(</font>f, nlhs, plhs, nrhs, prhs<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>catch</font> <font face='Lucida Console'>(</font>invalid_args_exception<font color='#5555FF'>&amp;</font> e<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:validate_and_populate_arg</font>",
                              <font face='Lucida Console'>(</font>"<font color='#CC0000'>Input</font>" <font color='#5555FF'>+</font> e.msg<font face='Lucida Console'>)</font>.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>catch</font> <font face='Lucida Console'>(</font>dlib::error<font color='#5555FF'>&amp;</font> e<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#BB00BB'>mexErrMsgIdAndTxt</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>mex_function:error</font>",
                              e.<font color='#BB00BB'>what</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <b>}</b>

    <b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>class</font> <b><a name='mex_streambuf'></a>mex_streambuf</b> : <font color='#0000FF'>public</font> std::streambuf
    <b>{</b>

    <font color='#0000FF'>public</font>:
        <b><a name='mex_streambuf'></a>mex_streambuf</b> <font face='Lucida Console'>(</font>
        <font face='Lucida Console'>)</font> 
        <b>{</b>
            buf.<font color='#BB00BB'>resize</font><font face='Lucida Console'>(</font><font color='#979000'>1000</font><font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>setp</font><font face='Lucida Console'>(</font><font color='#5555FF'>&amp;</font>buf[<font color='#979000'>0</font>], <font color='#5555FF'>&amp;</font>buf[<font color='#979000'>0</font>] <font color='#5555FF'>+</font> buf.<font color='#BB00BB'>size</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#979000'>2</font><font face='Lucida Console'>)</font>;

            <font color='#009900'>// make cout send data to mex_streambuf
</font>            std::cout.<font color='#BB00BB'>rdbuf</font><font face='Lucida Console'>(</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>;
        <b>}</b>


    <font color='#0000FF'>protected</font>:


        <font color='#0000FF'><u>int</u></font> <b><a name='sync'></a>sync</b> <font face='Lucida Console'>(</font>
        <font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'><u>int</u></font> num <font color='#5555FF'>=</font> <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>pptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#BB00BB'>pbase</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>num <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font>
            <b>{</b>
                buf[num] <font color='#5555FF'>=</font> <font color='#979000'>0</font>; <font color='#009900'>// null terminate the string
</font>                <font color='#BB00BB'>mexPrintf</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>%s</font>",<font color='#5555FF'>&amp;</font>buf[<font color='#979000'>0</font>]<font face='Lucida Console'>)</font>;
                <font color='#BB00BB'>mexEvalString</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>drawnow</font>"<font face='Lucida Console'>)</font>; <font color='#009900'>// flush print to screen
</font>                <font color='#BB00BB'>pbump</font><font face='Lucida Console'>(</font><font color='#5555FF'>-</font>num<font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#0000FF'>return</font> <font color='#979000'>0</font>;
        <b>}</b>

        int_type <b><a name='overflow'></a>overflow</b> <font face='Lucida Console'>(</font>
            int_type c
        <font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>c <font color='#5555FF'>!</font><font color='#5555FF'>=</font> EOF<font face='Lucida Console'>)</font>
            <b>{</b>
                <font color='#5555FF'>*</font><font color='#BB00BB'>pptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> c;
                <font color='#BB00BB'>pbump</font><font face='Lucida Console'>(</font><font color='#979000'>1</font><font face='Lucida Console'>)</font>;
            <b>}</b>
            <font color='#BB00BB'>sync</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>return</font> c;
        <b>}</b>

    <font color='#0000FF'>private</font>:
        std::vector<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font> buf;

    <b>}</b>;

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='setup_input_args'></a>setup_input_args</b> <font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> array,
        <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> item,
        <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&amp;</font> nrhs
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>assign_to_matlab</font><font face='Lucida Console'>(</font>array, item<font face='Lucida Console'>)</font>;
        <font color='#5555FF'>+</font><font color='#5555FF'>+</font>nrhs;
    <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='setup_input_args'></a>setup_input_args</b> <font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> array,
        <font color='#0000FF'>const</font> function_handle<font color='#5555FF'>&amp;</font> item,
        <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&amp;</font> nrhs
    <font face='Lucida Console'>)</font>
    <b>{</b>
        array <font color='#5555FF'>=</font> <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>item.h<font face='Lucida Console'>)</font>;
        <font color='#5555FF'>+</font><font color='#5555FF'>+</font>nrhs;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='setup_input_args'></a>setup_input_args</b> <font face='Lucida Console'>(</font>
        mxArray<font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font> array,
        <font color='#0000FF'>const</font> output_decorator<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> item,
        <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&amp;</font> nrhs
    <font face='Lucida Console'>)</font>
    <b>{</b>
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='setup_output_args'></a>setup_output_args</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
        mxArray<font color='#5555FF'>*</font> array,
        <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> item,
        <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&amp;</font> nrhs
    <font face='Lucida Console'>)</font>
    <b>{</b>
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='setup_output_args'></a>setup_output_args</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
        mxArray<font color='#5555FF'>*</font> array,
        <font color='#0000FF'>const</font> output_decorator<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> item,
        <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&amp;</font> i
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>try</font>
        <b>{</b>
            <font color='#BB00BB'>validate_and_populate_arg</font><font face='Lucida Console'>(</font>i,array,<font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&amp;</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>item.item<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i;
        <b>}</b>
        <font color='#0000FF'>catch</font> <font face='Lucida Console'>(</font>invalid_args_exception<font color='#5555FF'>&amp;</font> e<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>throw</font> dlib::<font color='#BB00BB'>error</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Error occurred calling MATLAB function '</font>" <font color='#5555FF'>+</font> function_name <font color='#5555FF'>+</font> "<font color='#CC0000'>' from mex file. \n</font>"
                              "<font color='#CC0000'>The MATLAB function didn't return what we expected it to.  \nIn particular, return</font>" <font color='#5555FF'>+</font> e.msg<font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='call_matlab_for_real'></a>call_matlab_for_real</b> <font face='Lucida Console'>(</font>
        <font color='#0000FF'><u>int</u></font> nlhs,
        mxArray<font color='#5555FF'>*</font> plhs[],
        <font color='#0000FF'><u>int</u></font> nrhs,
        mxArray<font color='#5555FF'>*</font> prhs[],
        <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name
    <font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'><u>int</u></font> status <font color='#5555FF'>=</font> <font color='#BB00BB'>mexCallMATLAB</font><font face='Lucida Console'>(</font>nlhs, plhs, nrhs, prhs, function_name.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>status<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#0000FF'>throw</font> dlib::<font color='#BB00BB'>error</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Error, an exception was thrown when we tried to call the MATLAB function '</font>" <font color='#5555FF'>+</font> function_name <font color='#5555FF'>+</font> "<font color='#CC0000'>'.</font>"<font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;

    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font><font color='#979000'>0</font>,NULL,<font color='#979000'>0</font>,NULL, function_name<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T1<font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='free_callback_resources'></a>free_callback_resources</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'><u>int</u></font> nlhs,
    mxArray<font color='#5555FF'>*</font> plhs[],
    <font color='#0000FF'><u>int</u></font> nrhs,
    mxArray<font color='#5555FF'>*</font> prhs[]
<font face='Lucida Console'>)</font>
<b>{</b>
    <font color='#009900'>// free resources
</font>    <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>; i <font color='#5555FF'>&lt;</font> nlhs; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i<font face='Lucida Console'>)</font>
        <font color='#BB00BB'>mxDestroyArray</font><font face='Lucida Console'>(</font>plhs[i]<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>; i <font color='#5555FF'>&lt;</font> nrhs; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#009900'>// don't call mxDestroyArray() on function handles (which should only ever be in prhs[0])
</font>        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>i <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>0</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> dlib::is_same_type<font color='#5555FF'>&lt;</font>T1,function_handle<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
            <font color='#0000FF'>continue</font>;
        <font color='#BB00BB'>mxDestroyArray</font><font face='Lucida Console'>(</font>prhs[i]<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>1</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>2</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>3</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>4</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>5</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5,
    <font color='#0000FF'>typename</font> T6
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5,
    <font color='#0000FF'>const</font> T6<font color='#5555FF'>&amp;</font> A6
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>6</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A6, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A6, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5,
    <font color='#0000FF'>typename</font> T6,
    <font color='#0000FF'>typename</font> T7
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5,
    <font color='#0000FF'>const</font> T6<font color='#5555FF'>&amp;</font> A6,
    <font color='#0000FF'>const</font> T7<font color='#5555FF'>&amp;</font> A7
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>7</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A6, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A7, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A6, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A7, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5,
    <font color='#0000FF'>typename</font> T6,
    <font color='#0000FF'>typename</font> T7,
    <font color='#0000FF'>typename</font> T8
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5,
    <font color='#0000FF'>const</font> T6<font color='#5555FF'>&amp;</font> A6,
    <font color='#0000FF'>const</font> T7<font color='#5555FF'>&amp;</font> A7,
    <font color='#0000FF'>const</font> T8<font color='#5555FF'>&amp;</font> A8
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>8</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A6, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A7, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A8, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A6, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A7, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A8, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>



<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5,
    <font color='#0000FF'>typename</font> T6,
    <font color='#0000FF'>typename</font> T7,
    <font color='#0000FF'>typename</font> T8,
    <font color='#0000FF'>typename</font> T9
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5,
    <font color='#0000FF'>const</font> T6<font color='#5555FF'>&amp;</font> A6,
    <font color='#0000FF'>const</font> T7<font color='#5555FF'>&amp;</font> A7,
    <font color='#0000FF'>const</font> T8<font color='#5555FF'>&amp;</font> A8,
    <font color='#0000FF'>const</font> T9<font color='#5555FF'>&amp;</font> A9
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>9</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A6, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A7, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A8, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A9, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A6, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A7, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A8, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A9, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>
    <font color='#0000FF'>typename</font> T1, 
    <font color='#0000FF'>typename</font> T2,
    <font color='#0000FF'>typename</font> T3,
    <font color='#0000FF'>typename</font> T4,
    <font color='#0000FF'>typename</font> T5,
    <font color='#0000FF'>typename</font> T6,
    <font color='#0000FF'>typename</font> T7,
    <font color='#0000FF'>typename</font> T8,
    <font color='#0000FF'>typename</font> T9,
    <font color='#0000FF'>typename</font> T10
    <font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> std::string<font color='#5555FF'>&amp;</font> function_name,
    <font color='#0000FF'>const</font> T1<font color='#5555FF'>&amp;</font> A1,
    <font color='#0000FF'>const</font> T2<font color='#5555FF'>&amp;</font> A2,
    <font color='#0000FF'>const</font> T3<font color='#5555FF'>&amp;</font> A3,
    <font color='#0000FF'>const</font> T4<font color='#5555FF'>&amp;</font> A4,
    <font color='#0000FF'>const</font> T5<font color='#5555FF'>&amp;</font> A5,
    <font color='#0000FF'>const</font> T6<font color='#5555FF'>&amp;</font> A6,
    <font color='#0000FF'>const</font> T7<font color='#5555FF'>&amp;</font> A7,
    <font color='#0000FF'>const</font> T8<font color='#5555FF'>&amp;</font> A8,
    <font color='#0000FF'>const</font> T9<font color='#5555FF'>&amp;</font> A9,
    <font color='#0000FF'>const</font> T10<font color='#5555FF'>&amp;</font> A10
<font face='Lucida Console'>)</font> 
<b>{</b>
    <font color='#0000FF'>using</font> <font color='#0000FF'>namespace</font> mex_binding;
    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> num_args <font color='#5555FF'>=</font> <font color='#979000'>10</font>;
    mxArray<font color='#5555FF'>*</font> plhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;
    mxArray<font color='#5555FF'>*</font> prhs[num_args] <font color='#5555FF'>=</font> <b>{</b><font color='#979000'>0</font><b>}</b>;

    <font color='#0000FF'><u>int</u></font> nrhs <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A1, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A2, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A3, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A4, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A5, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A6, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A7, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A8, nrhs<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_input_args</font><font face='Lucida Console'>(</font>prhs[nrhs], A10, nrhs<font face='Lucida Console'>)</font>;

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>int</u></font> nlhs <font color='#5555FF'>=</font> num_args <font color='#5555FF'>-</font> nrhs;
    <font color='#BB00BB'>call_matlab_for_real</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs, function_name<font face='Lucida Console'>)</font>;

    <font color='#0000FF'><u>int</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A1, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A2, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A3, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A4, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A5, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A6, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A7, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A8, i<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>setup_output_args</font><font face='Lucida Console'>(</font>function_name, plhs[i], A10, i<font face='Lucida Console'>)</font>;

    free_callback_resources<font color='#5555FF'>&lt;</font>T1<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>nlhs,plhs,nrhs,prhs<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'><u>void</u></font> <b><a name='call_matlab'></a>call_matlab</b> <font face='Lucida Console'>(</font>
    <font color='#0000FF'>const</font> function_handle<font color='#5555FF'>&amp;</font> funct 
<font face='Lucida Console'>)</font>
<b>{</b>
    <font color='#BB00BB'>call_matlab</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>feval</font>", funct<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#009900'>/* The gateway function called by MATLAB*/</font>
<font color='#0000FF'><u>void</u></font> <b><a name='mexFunction'></a>mexFunction</b><font face='Lucida Console'>(</font> <font color='#0000FF'><u>int</u></font> nlhs, mxArray <font color='#5555FF'>*</font>plhs[],
                  <font color='#0000FF'><u>int</u></font> nrhs, <font color='#0000FF'>const</font> mxArray <font color='#5555FF'>*</font>prhs[]<font face='Lucida Console'>)</font>
<b>{</b>
    <font color='#009900'>// Only remap cout if we aren't using octave since octave already does this.
</font><font color='#0000FF'>#if</font> <font color='#5555FF'>!</font>defined<font face='Lucida Console'>(</font>OCTAVE_IMPORT<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#5555FF'>!</font>defined<font face='Lucida Console'>(</font>OCTAVE_API<font face='Lucida Console'>)</font>
    <font color='#009900'>// make it so cout prints to mexPrintf()
</font>    <font color='#0000FF'>static</font> mex_binding::mex_streambuf sb;
<font color='#0000FF'>#endif</font>

    mex_binding::<font color='#BB00BB'>call_mex_function</font><font face='Lucida Console'>(</font>mex_function, nlhs, plhs, nrhs, prhs<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>

</pre></body></html>